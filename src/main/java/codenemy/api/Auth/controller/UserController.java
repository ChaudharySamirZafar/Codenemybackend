package codenemy.api.Auth.controller;

import codenemy.api.Auth.model.Role;
import codenemy.api.Auth.model.User;
import codenemy.api.Auth.service.UserService;
import codenemy.api.Util.Utility;
import com.auth0.jwt.JWT;
import lombok.Getter;
import lombok.RequiredArgsConstructor;
import lombok.Setter;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.Arrays;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.stream.Collectors;

/**
 * @author chaudhary samir zafar
 * @version 1.0
 * @since 28/12/2022
 */
@RestController
@RequestMapping( "/api")
@RequiredArgsConstructor
@CrossOrigin
public class UserController {
    private final UserService userService;
    private final byte[] defaultImage = new byte[]{-1, -40, -1, -32, 0, 16, 74, 70, 73, 70, 0, 1, 1, 1, 1, 44, 1, 44, 0, 0, -1, -31, 0, 86, 69, 120, 105, 102, 0, 0, 77, 77, 0, 42, 0, 0, 0, 8, 0, 4, 1, 26, 0, 5, 0, 0, 0, 1, 0, 0, 0, 62, 1, 27, 0, 5, 0, 0, 0, 1, 0, 0, 0, 70, 1, 40, 0, 3, 0, 0, 0, 1, 0, 2, 0, 0, 2, 19, 0, 3, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 44, 0, 0, 0, 1, 0, 0, 1, 44, 0, 0, 0, 1, -1, -19, 0, 44, 80, 104, 111, 116, 111, 115, 104, 111, 112, 32, 51, 46, 48, 0, 56, 66, 73, 77, 4, 4, 0, 0, 0, 0, 0, 15, 28, 1, 90, 0, 3, 27, 37, 71, 28, 1, 0, 0, 2, 0, 4, 0, -1, -31, 12, -127, 104, 116, 116, 112, 58, 47, 47, 110, 115, 46, 97, 100, 111, 98, 101, 46, 99, 111, 109, 47, 120, 97, 112, 47, 49, 46, 48, 47, 0, 60, 63, 120, 112, 97, 99, 107, 101, 116, 32, 98, 101, 103, 105, 110, 61, 39, -17, -69, -65, 39, 32, 105, 100, 61, 39, 87, 53, 77, 48, 77, 112, 67, 101, 104, 105, 72, 122, 114, 101, 83, 122, 78, 84, 99, 122, 107, 99, 57, 100, 39, 63, 62, 10, 60, 120, 58, 120, 109, 112, 109, 101, 116, 97, 32, 120, 109, 108, 110, 115, 58, 120, 61, 39, 97, 100, 111, 98, 101, 58, 110, 115, 58, 109, 101, 116, 97, 47, 39, 32, 120, 58, 120, 109, 112, 116, 107, 61, 39, 73, 109, 97, 103, 101, 58, 58, 69, 120, 105, 102, 84, 111, 111, 108, 32, 49, 48, 46, 49, 48, 39, 62, 10, 60, 114, 100, 102, 58, 82, 68, 70, 32, 120, 109, 108, 110, 115, 58, 114, 100, 102, 61, 39, 104, 116, 116, 112, 58, 47, 47, 119, 119, 119, 46, 119, 51, 46, 111, 114, 103, 47, 49, 57, 57, 57, 47, 48, 50, 47, 50, 50, 45, 114, 100, 102, 45, 115, 121, 110, 116, 97, 120, 45, 110, 115, 35, 39, 62, 10, 10, 32, 60, 114, 100, 102, 58, 68, 101, 115, 99, 114, 105, 112, 116, 105, 111, 110, 32, 114, 100, 102, 58, 97, 98, 111, 117, 116, 61, 39, 39, 10, 32, 32, 120, 109, 108, 110, 115, 58, 116, 105, 102, 102, 61, 39, 104, 116, 116, 112, 58, 47, 47, 110, 115, 46, 97, 100, 111, 98, 101, 46, 99, 111, 109, 47, 116, 105, 102, 102, 47, 49, 46, 48, 47, 39, 62, 10, 32, 32, 60, 116, 105, 102, 102, 58, 82, 101, 115, 111, 108, 117, 116, 105, 111, 110, 85, 110, 105, 116, 62, 50, 60, 47, 116, 105, 102, 102, 58, 82, 101, 115, 111, 108, 117, 116, 105, 111, 110, 85, 110, 105, 116, 62, 10, 32, 32, 60, 116, 105, 102, 102, 58, 88, 82, 101, 115, 111, 108, 117, 116, 105, 111, 110, 62, 51, 48, 48, 47, 49, 60, 47, 116, 105, 102, 102, 58, 88, 82, 101, 115, 111, 108, 117, 116, 105, 111, 110, 62, 10, 32, 32, 60, 116, 105, 102, 102, 58, 89, 82, 101, 115, 111, 108, 117, 116, 105, 111, 110, 62, 51, 48, 48, 47, 49, 60, 47, 116, 105, 102, 102, 58, 89, 82, 101, 115, 111, 108, 117, 116, 105, 111, 110, 62, 10, 32, 60, 47, 114, 100, 102, 58, 68, 101, 115, 99, 114, 105, 112, 116, 105, 111, 110, 62, 10, 10, 32, 60, 114, 100, 102, 58, 68, 101, 115, 99, 114, 105, 112, 116, 105, 111, 110, 32, 114, 100, 102, 58, 97, 98, 111, 117, 116, 61, 39, 39, 10, 32, 32, 120, 109, 108, 110, 115, 58, 120, 109, 112, 77, 77, 61, 39, 104, 116, 116, 112, 58, 47, 47, 110, 115, 46, 97, 100, 111, 98, 101, 46, 99, 111, 109, 47, 120, 97, 112, 47, 49, 46, 48, 47, 109, 109, 47, 39, 62, 10, 32, 32, 60, 120, 109, 112, 77, 77, 58, 68, 111, 99, 117, 109, 101, 110, 116, 73, 68, 62, 97, 100, 111, 98, 101, 58, 100, 111, 99, 105, 100, 58, 115, 116, 111, 99, 107, 58, 102, 57, 102, 51, 102, 56, 98, 52, 45, 100, 98, 49, 51, 45, 52, 98, 99, 51, 45, 56, 56, 99, 99, 45, 100, 52, 57, 54, 102, 56, 56, 97, 57, 101, 50, 49, 60, 47, 120, 109, 112, 77, 77, 58, 68, 111, 99, 117, 109, 101, 110, 116, 73, 68, 62, 10, 32, 32, 60, 120, 109, 112, 77, 77, 58, 73, 110, 115, 116, 97, 110, 99, 101, 73, 68, 62, 120, 109, 112, 46, 105, 105, 100, 58, 56, 55, 53, 51, 98, 51, 56, 99, 45, 98, 52, 56, 53, 45, 52, 57, 51, 52, 45, 97, 51, 57, 99, 45, 56, 102, 97, 100, 49, 101, 49, 52, 48, 101, 100, 101, 60, 47, 120, 109, 112, 77, 77, 58, 73, 110, 115, 116, 97, 110, 99, 101, 73, 68, 62, 10, 32, 60, 47, 114, 100, 102, 58, 68, 101, 115, 99, 114, 105, 112, 116, 105, 111, 110, 62, 10, 60, 47, 114, 100, 102, 58, 82, 68, 70, 62, 10, 60, 47, 120, 58, 120, 109, 112, 109, 101, 116, 97, 62, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 10, 60, 63, 120, 112, 97, 99, 107, 101, 116, 32, 101, 110, 100, 61, 39, 119, 39, 63, 62, -1, -37, 0, 67, 0, 5, 3, 4, 4, 4, 3, 5, 4, 4, 4, 5, 5, 5, 6, 7, 12, 8, 7, 7, 7, 7, 15, 11, 11, 9, 12, 17, 15, 18, 18, 17, 15, 17, 17, 19, 22, 28, 23, 19, 20, 26, 21, 17, 17, 24, 33, 24, 26, 29, 29, 31, 31, 31, 19, 23, 34, 36, 34, 30, 36, 28, 30, 31, 30, -1, -37, 0, 67, 1, 5, 5, 5, 7, 6, 7, 14, 8, 8, 14, 30, 20, 17, 20, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, -1, -64, 0, 17, 8, 1, 104, 1, 104, 3, 1, 17, 0, 2, 17, 1, 3, 17, 1, -1, -60, 0, 28, 0, 1, 0, 3, 1, 1, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 7, 8, 5, 1, 2, 4, 9, -1, -60, 0, 68, 16, 0, 2, 1, 3, 2, 2, 5, 7, 7, 10, 5, 5, 0, 0, 0, 0, 0, 1, 2, 3, 4, 5, 6, 17, 7, 33, 8, 18, 49, 65, 81, 19, 24, 85, 97, 113, -127, -109, 20, 21, 34, 50, 82, -126, -45, 22, 35, 66, 67, 98, 114, -111, -110, -95, -78, 23, 36, 83, 115, -94, 99, -125, -79, -63, -62, -1, -60, 0, 22, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, -1, -60, 0, 23, 17, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 17, 49, -1, -38, 0, 12, 3, 1, 0, 2, 17, 3, 17, 0, 63, 0, -40, 102, -103, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 110, -68, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 95, 107, -114, 49, -24, 29, 37, 82, -91, -67, -18, 102, 55, -73, -80, -28, -19, 44, 23, -105, -88, -97, -124, -102, 125, 88, -5, -38, 38, -82, 42, 13, 71, -46, -113, 35, 57, -54, 26, 119, 75, 91, 80, -121, 117, 91, -6, -18, -92, -97, -81, -87, 13, -110, -2, 102, 77, 92, 66, 50, 29, 32, 120, -95, 117, 38, -23, -26, 109, 44, -94, -1, 0, 70, -38, -62, -102, -37, -33, 37, 38, 77, 92, 115, 127, -58, -50, 41, -11, -70, -33, -106, 23, 123, -8, 121, 10, 59, 127, 96, -45, 29, 44, 127, 72, 30, 40, 90, -55, 58, -103, -101, 75, -40, -81, -47, -71, -80, -90, -9, -9, -59, 69, -115, -90, 38, -6, 115, -91, 30, 70, 18, -116, 53, 22, -106, -74, -81, 14, -6, -74, 21, -35, 57, 47, 95, 82, 123, -89, -4, -56, -70, -104, -72, 52, 63, 24, -12, 14, -83, -87, 78, -34, -53, 51, 27, 43, -39, -14, 86, -105, -21, -56, 84, 111, -62, 45, -66, -84, -67, -51, -105, 83, 22, 1, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, -97, 18, 120, -125, -90, -12, 14, 41, 94, 103, 46, -1, 0, 61, 81, 63, -109, 89, -47, -38, 85, -21, -75, -10, 99, -36, -68, 100, -10, 72, -106, -30, -56, -55, -100, 79, -29, 78, -81, -42, -77, -85, 107, 11, -103, 97, -80, -14, -35, 43, 43, 74, -115, 57, -57, -2, -91, 78, 78, 126, -50, 81, -11, 25, -42, -79, 89, -92, -110, -39, 45, -105, -126, 34, -128, 0, 0, 0, 1, -92, -42, -51, 38, -68, 24, 22, 103, 12, 56, -43, -85, -12, 84, -23, 90, 84, -72, -106, 103, 15, 29, -109, -78, -69, -88, -37, -124, 127, -23, -44, -26, -31, -20, -25, 31, 81, 117, 44, 107, 78, 27, 113, 3, 77, -21, -20, 83, -67, -63, -35, -2, 122, -102, 95, 41, -77, -85, -76, 107, -37, -73, -10, -93, -34, -68, 36, -73, 79, -60, -44, -84, -40, -107, -107, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 21, -73, 28, 120, -87, -113, -31, -34, 34, 52, 104, -58, -99, -26, 122, -22, 13, -38, 90, 55, -54, 11, -77, -54, -44, -37, -102, -126, 125, -117, -74, 79, -110, -17, 106, 90, -78, 49, 118, -92, -51, -27, 117, 30, 102, -29, 49, -101, -66, -85, 123, 125, 113, 45, -22, 85, -88, -1, 0, -124, 82, -20, -116, 87, 116, 87, 36, 97, -89, 56, 40, 0, 0, 0, 0, 0, 0, 3, -93, -90, -13, -103, 109, 57, -102, -73, -52, 97, 47, -86, -39, 95, 91, -67, -23, -43, -90, -5, -69, -30, -41, 100, -94, -5, -30, -7, 50, -93, 105, 112, 59, -118, -104, -18, 34, -30, 37, 74, -84, 105, -39, -25, 109, 96, -99, -35, -94, 124, -92, -69, 60, -83, 61, -7, -72, 55, -35, -37, 23, -55, -9, 55, -87, 89, -79, 100, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 87, -118, 122, -41, 31, -96, -76, 125, -50, 118, -11, 42, -75, 87, -26, -19, 45, -9, -39, -36, 86, 127, 86, 30, -50, -42, -33, 114, 76, -106, -84, -116, 33, -87, -77, -103, 61, 73, -98, -69, -51, -26, 110, -91, 115, 125, 119, 83, -81, 86, 111, -77, -43, 24, -82, -24, -91, -55, 46, -28, -116, 52, -26, -123, 0, 0, 0, 0, 0, 0, 0, 0, 1, -46, -45, 25, -52, -98, -101, -49, 90, 103, 48, -9, 50, -74, -66, -76, -87, -41, -89, 53, -40, -4, 99, 37, -33, 22, -71, 53, -34, -104, 70, -16, -31, 110, -76, -57, -21, -51, 31, 107, -98, -79, 74, -99, 73, 126, 110, -18, -33, 125, -35, -67, 101, -11, -96, -3, 93, -23, -9, -90, -115, -54, -51, -119, 73, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 49, 47, 73, 61, 119, 45, 101, -81, -21, 91, 90, 87, -21, -30, 49, 18, -107, -83, -94, 79, -24, -44, -102, 123, 84, -85, -17, -110, -39, 122, -94, -68, 76, 86, -28, 85, -60, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 90, 93, 26, -75, -36, -76, 110, -65, -93, 107, 119, 91, -87, -120, -53, -54, 54, -41, 73, -65, -93, 78, 109, -19, 78, -81, -71, -67, -97, -86, 79, -64, -79, 44, 109, -109, 108, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 11, -57, -99, 83, 45, 33, -62, -20, -74, 78, -123, 79, 39, 123, 90, 10, -46, -51, -9, -86, -75, 126, -118, 107, -9, 87, 90, 95, 116, -107, 99, 7, 118, 45, -116, 54, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 14, -34, 92, -3, -64, 111, 46, 3, -22, -103, 106, -2, 23, -30, 50, -107, -22, 121, 75, -38, 84, -35, -91, -29, -17, 117, 105, -3, 22, -33, -17, 46, -84, -66, -15, -72, -59, 78, 74, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 102, 126, -101, 89, -87, 58, -38, 115, 78, -62, 77, 69, 70, -83, -11, 88, -17, -38, -7, 83, -121, -1, 0, 102, 107, 81, -101, 12, -76, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 52, -89, 66, 92, -44, -68, -90, -93, -45, -77, -109, 113, -38, -107, -11, 40, -8, 62, 116, -25, -1, 0, -63, -88, -51, 105, 115, 76, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -116, 122, 92, 94, 74, -25, -116, -73, 20, 36, -9, -115, -91, -123, -75, 40, -81, 13, -30, -26, -1, 0, -68, -59, 110, 42, 34, 40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -73, -70, 34, -34, 74, -37, -116, -108, 40, 39, -76, 110, -15, -9, 52, -92, -68, 118, 81, -102, -2, -62, -60, -83, -102, 109, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 49, 15, 74, 62, -73, -8, -29, -99, -21, 125, -101, 109, -67, -98, 66, 6, 47, 91, -100, 86, 68, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 103, 116, 90, -21, 127, -114, 56, 62, -81, -6, 119, 59, -5, 60, -124, -53, 58, -107, -73, 77, -80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 52, -23, 121, 101, 43, 94, 49, 85, -71, 107, 104, -34, 99, -83, -22, -59, -8, -20, -91, 7, -3, -122, 43, 113, 79, -111, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, -61, -47, 10, -58, 87, 92, 97, -123, -54, 95, 70, -49, 29, 113, 85, -65, 14, -73, 86, 11, -5, -103, 98, 86, -54, 54, -64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25, -77, -90, -42, 18, 82, -93, -89, 117, 37, 56, 54, -95, 42, -74, 53, -91, -31, -65, -25, 33, -1, 0, -119, -103, -83, 70, 103, 50, -48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -45, 61, 9, 112, -110, -115, -66, -94, -44, -107, 32, -46, -87, 42, 86, 52, 101, -29, -43, -4, -28, -1, 0, -70, 6, -93, 53, -92, -115, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 55, -115, 90, 85, -21, 30, 26, -27, -16, -76, -96, -91, 118, -23, 121, 123, 63, -9, -87, -3, 40, 47, 126, -50, 63, 120, -107, 99, 3, 52, -45, -39, -59, -59, -82, -44, -5, 87, -88, -61, 96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 73, -74, -108, 98, -28, -33, 36, -105, 107, 126, 0, 111, -82, 11, -23, 87, -93, 120, 109, -120, -62, 85, -126, -115, -36, 105, 121, 123, -50, 95, -82, -87, -12, -90, -67, -37, -88, -3, -45, 113, -118, -104, -107, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -116, 122, 81, 104, 57, 105, 77, 117, 60, -51, -107, 30, -82, 35, 53, 57, 87, -89, -43, 95, 70, -107, 126, -38, -108, -3, 91, -65, -90, -67, 77, -8, 24, -83, -59, 68, 69, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, -67, -47, 111, 65, -53, 85, 107, -88, 102, -81, 104, 117, -79, 24, 73, -58, -76, -6, -53, -24, -43, -81, -37, 78, -97, -81, 103, -12, -33, -87, 47, 18, -60, -83, -102, 109, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -113, -15, 15, 73, -29, 53, -74, -109, -68, -45, -39, 68, -43, 42, -21, -83, 74, -84, 86, -14, -95, 85, 125, 74, -111, -11, -89, -4, 83, 107, -68, -106, 44, 96, -35, 107, -90, 114, -38, 67, 82, 93, 96, 115, 84, 60, -107, -43, -68, -66, -78, -6, -107, 96, -2, -83, 72, 62, -8, -75, -39, -17, 79, -102, 102, 90, 113, -120, -96, 0, 0, 0, 0, 0, 0, 0, 0, 59, 90, 39, 76, -27, -75, 126, -92, -75, -64, 97, -88, 121, 75, -85, -119, 115, -108, -66, -91, 40, 47, -83, 82, 111, -70, 41, 118, -5, -110, -26, -47, 81, -68, 120, 123, -92, -15, -102, 43, 73, -39, -23, -20, 84, 91, -91, 65, 111, 82, -84, -106, -46, -81, 81, -3, 106, -110, -11, -73, -4, 22, -53, -72, -44, -116, -44, -128, -88, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 32, -68, 98, -31, -82, 35, -120, -72, 21, 109, 114, -43, -82, 78, -35, 55, 99, 125, 24, -17, 42, 77, -10, -58, 75, -12, -96, -5, -41, -67, 115, 37, -102, -78, -79, 70, -76, -46, -39, -51, 31, -99, -85, -122, -49, -39, 74, -42, -22, 28, -30, -5, 97, 86, 29, -45, -124, -69, 37, 23, -29, -18, 123, 62, 70, 26, 113, 66, -128, 0, 0, 0, 0, 0, 0, 59, 122, 43, 74, -25, 53, -122, 118, -106, 27, 1, 101, 43, -101, -103, -13, -101, -20, -89, 70, 29, -13, -100, -69, 35, 21, -29, -33, -40, -73, 124, -118, -115, -83, -63, -34, 26, -30, 56, 117, -127, 118, -42, -50, 55, 89, 59, -124, -99, -11, -12, -93, -76, -86, -75, -39, 24, -81, -47, -126, -18, 94, -9, -52, -44, -116, -38, -99, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28, 13, 115, -93, -12, -2, -76, -61, 75, 21, -88, 108, 33, 117, 71, -101, -91, 52, -6, -75, 40, -53, -19, 66, 107, -100, 95, -12, 125, -23, -110, -59, -42, 85, -30, 127, 0, 53, 86, -104, -99, 91, -36, 4, 106, 106, 12, 82, -34, 91, -47, -121, -7, -102, 75, -10, -23, -81, -83, -19, -122, -2, -60, 103, 26, -43, 61, 40, -54, 19, -108, 37, 23, 25, -59, -19, 40, -75, -77, -117, -16, 107, -72, -118, -16, 0, 0, 0, 0, -10, 17, -108, -25, 24, 66, 46, 83, -109, -38, 49, 75, 119, 39, -32, -105, 123, 2, -30, -31, -121, 0, 53, 86, -90, -99, 43, -35, 65, 26, -102, 127, 20, -10, -105, -25, -95, -2, 102, -86, -3, -102, 111, -22, -5, 103, -73, -79, -105, 19, 90, -85, 67, -23, 13, 63, -94, -16, -47, -59, 105, -21, 8, 90, -47, -28, -22, 77, -3, 42, -107, -91, -10, -89, 39, -50, 79, -6, 46, -28, -115, 99, 58, -17, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 15, 37, 40, -62, 46, 82, -110, -116, 82, -35, -74, -10, 73, 120, -127, 68, -15, 103, -92, 62, 39, 7, 58, -40, -83, 25, 78, -114, 99, 33, 29, -29, 59, -55, 61, -19, 104, -65, -39, -37, -99, 86, -67, 91, 71, -42, -5, 12, -38, -44, -114, 55, 10, 122, 72, 82, -87, -28, -15, -100, 64, -92, -87, 79, 125, -93, -108, -74, -91, -12, 31, -5, -76, -41, -43, -3, -24, -14, -15, 75, -76, 74, 88, -48, -40, -84, -115, -122, 86, -62, -106, 67, 25, 123, 111, 123, 105, 85, 111, 78, -67, 10, -118, 112, -105, -79, -94, -94, 59, -83, 120, 115, -94, -11, -118, -108, -13, -40, 27, 90, -9, 13, 108, -82, -87, -89, 74, -70, -1, 0, -71, 29, -101, -9, -18, 48, -43, 67, -87, 58, 46, -29, 106, -54, 117, 52, -18, -87, -70, -75, -5, 52, 111, -88, 42, -47, -2, 120, -11, 95, -12, 100, -59, -44, 35, 37, -47, -89, -120, 22, -46, 127, 36, -69, -63, 95, 71, -71, -58, -26, 116, -33, -16, -108, 63, -10, 76, 93, 115, 124, -34, -72, -95, -42, -37, -26, -68, 110, -34, 63, 56, -45, -40, 97, -82, -106, 55, -93, 79, 16, 46, 36, -66, 87, 119, -126, -79, -113, 123, -107, -52, -22, 63, -31, 24, 127, -20, 97, -87, -66, -101, -24, -69, -116, -91, 40, 84, -44, 90, -94, -22, -17, -19, 81, -79, -96, -88, -59, -6, -70, -14, -21, 63, -24, -117, -119, -85, 127, 69, 112, -25, 69, -24, -27, 25, -32, 112, 54, -76, 46, 18, -39, -35, 84, 78, -83, 119, -1, 0, 114, 91, -75, -18, -40, -72, -102, -112, -27, 114, 54, 24, -101, 10, -71, 12, -99, -19, -67, -107, -91, 37, -67, 74, -11, -22, 40, 66, 62, -42, -64, -49, 28, 85, -23, 33, 78, -97, -108, -58, 112, -2, -110, -85, 52, -10, -106, 82, -26, -105, -48, 95, -19, 83, 125, -65, -67, 46, 94, 9, -10, -110, -43, -57, 107, -124, -35, 33, -15, 25, -55, 81, -59, 107, 40, 81, -61, 100, 101, -76, 97, 121, 23, -75, -83, 103, -21, -33, -99, 39, -19, -34, 62, -75, -40, 37, 44, 94, -47, -108, 101, 21, 40, -75, 40, -75, -70, 105, -18, -102, 52, -53, -48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, -99, -88, -13, 120, -83, 59, -122, -72, -52, 102, -81, 105, 89, 88, -37, -57, -83, 82, -83, 71, -53, -44, -110, -19, 109, -10, 36, -71, -78, 43, 31, 113, -85, -115, 89, -99, 115, 86, -74, 43, 20, -21, 98, -12, -18, -5, 121, 5, 45, -86, -35, 47, 26, -83, 119, 126, -62, -27, -29, -71, -101, 90, -111, 83, 17, 64, 59, 122, 71, 86, -22, 77, 37, 122, -18, -12, -26, 102, -17, 29, 81, -67, -25, 26, 114, -34, -99, 79, -34, -125, -34, 50, -9, -94, -94, -18, -47, -3, 39, -14, 52, 35, 10, 26, -81, 79, 82, -68, 75, 100, -18, 113, -13, -14, 83, -10, -70, 114, -34, 47, -36, -47, 117, 49, 105, 96, 120, -11, -61, 44, -84, 87, -108, -50, -49, 25, 81, -2, -82, -2, -34, 116, -10, -5, -55, 56, -1, 0, 82, -22, 98, 101, -113, -42, -102, 63, 33, 5, 43, 29, 85, -124, -72, 79, -77, -87, 127, 77, -65, -31, -66, -29, 76, 116, 62, 120, -60, 117, 122, -33, 58, -40, 109, -29, -14, -104, 109, -1, 0, -111, -90, 57, -7, 13, 105, -93, -15, -16, 114, -66, -43, 88, 75, 116, -69, 122, -9, -12, -109, -2, 27, -18, 52, -60, 55, 61, -57, -66, 25, 98, -94, -4, -98, 114, -90, 78, -94, -3, 93, -123, -68, -22, 111, -9, -102, 81, -2, -92, -45, 21, 110, -80, -23, 63, -110, -81, 25, -48, -46, -102, 122, -115, -110, 123, -91, 115, -112, -97, -107, -97, -75, 83, -114, -47, 94, -10, -55, -85, -118, 71, 87, 106, -51, 73, -85, 111, 126, 87, -88, -13, 55, 121, 26, -119, -17, 8, -43, -106, -44, -23, -2, -20, 22, -47, -113, -71, 5, 113, 8, -96, 22, -41, 5, 120, -43, -103, -48, -11, 104, -30, 114, -50, -74, 83, 78, -17, -73, -111, 114, -34, -83, -86, -15, -92, -33, 119, -20, 62, 94, 27, 119, -39, 82, -58, -63, -45, -103, -68, 86, -94, -61, 91, -26, 48, -73, -76, -81, 108, 110, 35, -42, -89, 86, -101, -28, -4, 83, 93, -87, -82, -58, -97, 52, -51, 50, -24, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 114, -75, 110, -95, -60, -23, 92, 5, -50, 115, 55, 119, 27, 107, 43, 104, -17, 41, 62, 114, -109, -18, -116, 87, -23, 73, -66, 73, 17, 88, -117, -116, 28, 74, -52, -15, 19, 57, -14, -117, -89, 43, 92, 93, 9, 63, -111, 88, 70, 91, -58, -110, -5, 82, -5, 85, 26, -19, 125, -35, -117, -105, 110, 109, 106, 68, 24, -118, 0, 0, 0, 0, 30, 56, -59, -3, 104, -59, -5, 80, 30, 121, 58, 127, -23, -61, -7, 80, 30, -88, -59, 125, 88, -59, 123, 22, -64, 122, 0, 0, 0, 0, 0, -99, 112, 127, -119, 89, -98, 29, -25, 60, -67, -85, -107, -42, 42, -68, -105, -53, 108, 28, -74, -115, 69, -10, -29, -10, 106, 37, -40, -5, -5, 31, 46, -53, -87, 99, 110, 105, 45, 67, -119, -43, 56, 11, 92, -26, 18, -18, 55, 54, 87, 49, -34, 50, 92, -100, 95, 124, 100, -65, 70, 73, -14, 104, -45, 46, -87, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -11, -14, 119, -42, 120, -52, 117, -58, 71, 33, 115, 78, -38, -46, -38, -100, -86, -42, -83, 81, -19, 24, 65, 45, -37, 100, 86, 31, -29, -105, 19, 47, 120, -119, -88, -36, -87, 58, -76, 48, 118, -110, 106, -62, -38, 92, -101, -18, 117, 102, -66, -36, -65, -30, -71, 120, -17, -101, 90, -111, 94, 17, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 22, 39, 3, 56, -103, 123, -61, -51, 70, -91, 85, -43, -81, -125, -68, -110, 87, -10, -47, -26, -41, 114, -85, 5, -10, -29, -1, 0, 37, -53, -61, 107, 18, -58, -33, -58, 95, 89, -28, -15, -10, -7, 11, 11, -102, 119, 54, -105, 52, -29, 86, -115, 106, 111, 120, -50, 13, 110, -102, 52, -53, -20, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, -93, -46, -73, -119, -81, 49, -108, -98, -121, -62, -36, 111, -115, -78, -88, -66, 113, -87, 7, -54, -30, -68, 127, 87, -21, -116, 31, 111, -116, -65, 116, -59, -83, 72, -96, -120, -48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11, -5, -94, -113, 19, 94, 35, 39, 13, 13, -101, -72, -37, 29, 123, 81, -4, -35, 82, 111, -107, 10, -14, -3, 94, -3, -47, -101, -20, -16, -105, -17, 22, 86, 108, 106, -45, 108, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, -49, -92, 87, 16, 127, 33, 116, 68, -29, 99, 85, 71, 53, -109, -21, 80, -79, -37, -74, -97, 47, -89, 91, -18, -89, -53, -10, -100, 76, -38, -78, 49, 12, -101, -109, 114, -109, 109, -73, -69, 109, -18, -37, -15, 102, 91, 120, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 30, -59, -72, -55, 74, 45, -59, -89, -70, 105, -20, -45, -15, 64, 109, -2, -114, -4, 65, -4, -69, -47, 16, 87, -43, 84, -77, 88, -34, -83, 11, -27, -33, 83, -105, -48, -83, -9, -110, -25, -5, 74, 70, -91, 98, -59, -106, 105, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, -15, -85, 82, -99, 42, 83, -85, 86, 113, -89, 78, 17, 114, -108, -92, -10, 81, 73, 110, -37, 126, 27, 1, -126, -8, -43, -83, 106, 107, -67, 125, 123, -104, -116, -27, -14, 10, 111, -28, -8, -8, 63, -47, -95, 22, -10, 123, 120, -55, -17, 39, -19, -11, 24, 110, 33, 68, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 77, -72, 41, -83, -86, 104, 77, 127, 101, -105, -100, -27, -13, 125, 87, -14, 124, -124, 23, -23, 80, -109, 91, -53, 111, 24, -67, -92, -67, -113, -60, -87, 91, -50, -107, 72, 85, -89, 26, -76, -89, 25, -62, 113, 82, -116, -94, -9, 82, 79, -102, 107, -44, 109, -121, -56, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, -67, 44, 53, -117, -45, -68, 60, -7, -106, -46, -81, 82, -1, 0, 59, 39, 110, -70, -81, -100, 109, -42, -50, -84, -67, -5, -88, 125, -25, -32, 102, -75, 24, -40, -53, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 101, 116, 80, -42, 47, 81, -16, -19, 97, -82, -21, 117, -17, -16, 114, 86, -17, -84, -9, 114, -96, -42, -12, -91, -18, 73, -61, -18, -93, 81, -102, -72, 77, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 28, -23, 33, -86, -1, 0, 42, -72, -87, -111, -99, 26, -67, 123, 28, 107, -7, 5, -82, -49, -109, 80, 111, -81, 37, -19, -101, -105, -71, 35, 21, -72, -83, -56, -96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, -55, -24, -35, -86, -65, 37, -72, -85, -114, -107, 106, -67, 75, 44, -97, -7, 11, -99, -33, 36, -90, -41, 82, 79, -39, 62, -81, -71, -78, -60, -83, -60, 109, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, -98, 42, 106, 53, -92, -8, 121, -101, -49, -87, 109, 86, -42, -42, 94, 67, -41, 90, 95, 70, -102, -2, 105, 47, -32, 74, -79, -7, -10, -36, -101, 110, 114, 114, -109, -25, 41, 62, -42, -5, -39, -122, -34, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 123, 23, 40, -55, 74, 18, 113, -110, 123, -58, 75, -75, 62, -26, 7, -24, 47, 11, 117, 26, -43, -100, 62, -62, -25, -37, -34, -83, -43, -84, 124, -65, -86, -84, 126, -115, 69, -4, -47, 102, -29, 21, 37, 42, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 103, -50, -102, -103, -25, 111, -90, -80, -102, 110, -108, -10, -107, -19, -52, -82, -85, 36, -7, -11, 41, 45, -93, -65, -34, -98, -1, 0, 116, -51, 106, 50, -71, -106, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 26, -89, -95, 94, 123, -27, 58, 99, 53, -90, -22, -49, 121, 88, -35, 70, -22, -118, 111, -11, 117, 86, -46, -37, -17, 65, -65, -68, 106, 51, 90, 8, -45, 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, -61, -91, -90, 97, -28, -8, -63, 115, 102, -89, -42, -89, -117, -76, -93, 107, 29, -69, 20, -102, -14, -110, -2, -77, 75, -36, 98, -73, 21, 25, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 110, -12, 74, -52, 60, 103, 23, -19, -20, -100, -74, -89, -108, -76, -83, 107, 36, -5, 28, -110, -14, -112, -2, -80, 107, -34, 88, -107, -77, -115, -80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 62, -64, 48, 47, 27, -89, 58, -100, 95, -43, -110, -87, -66, -1, 0, 58, -42, 94, -28, -46, 95, -47, 35, 13, -95, -60, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, -53, -127, -13, -99, 62, 48, 105, 57, 83, -19, -7, -46, -110, -9, 61, -45, -2, -115, -107, 27, -27, 118, 27, 96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 125, -128, 98, 46, -109, -8, 121, -30, 56, -51, -104, -101, -125, -115, 44, -124, 105, -34, -46, 109, 118, -87, 65, 70, 95, -14, -124, -116, 86, -30, -79, 34, -128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 44, -2, -117, -40, 121, -27, -72, -51, -120, -88, -96, -27, 75, 29, 26, -73, -75, 95, -121, 86, 14, 49, -1, 0, -108, -30, 88, -107, -73, 17, -74, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 41, 46, -106, -102, 22, -82, -94, -46, 20, 117, 46, 54, -125, -87, -112, -62, -87, 74, -84, 96, -73, -107, 75, 105, 115, -97, -75, -63, -91, 47, 103, 88, -51, 106, 86, 65, 50, -48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 95, -12, 76, -48, -75, 116, -18, -113, -83, -87, 50, 52, 29, 60, -122, 109, 70, 84, -93, 37, -76, -87, -37, 71, -100, 61, -114, 77, -71, 123, 58, -90, -92, 102, -43, -40, 105, -112, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 73, -90, -102, 77, 62, 77, 48, 50, 127, 72, 14, 7, -34, 97, 110, -18, 117, 54, -114, -77, -99, -50, 34, -93, 117, 46, 108, 104, -57, 121, -39, -66, -41, 40, 69, 115, -107, 62, -3, -105, 56, -5, 59, 49, 99, 82, -88, 78, -43, -70, -26, -120, -48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 31, 37, -69, -20, 2, -5, -24, -1, 0, -64, -5, -52, -51, -35, -74, -89, -42, 54, 115, -74, -60, -45, 106, -83, -75, -115, 104, -19, 59, -73, -38, -91, 56, -66, 113, -89, -33, -77, -25, 47, 103, 109, -111, -101, 90, -63, 36, -110, 73, 108, -105, 98, 70, -39, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 105, -60, 46, 9, 104, 109, 97, 90, -83, -20, -20, -86, 98, 114, 85, 27, 114, -70, -80, 106, 29, 121, 120, -50, 13, 117, 36, -3, 123, 39, -21, 38, 46, -86, 60, -65, 69, -52, -27, 58, -49, -26, -115, 87, -115, -72, -91, -35, -14, -85, 121, -46, -105, -65, -85, -42, 68, -59, -41, 55, -51, -117, 92, -6, 103, 78, -4, 106, -65, -122, 48, -45, -51, -117, 92, -6, 103, 78, -4, 106, -65, -122, 49, 116, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 52, -13, 98, -41, 62, -103, -45, -65, 26, -81, -31, -116, 77, 116, -79, 29, 23, 51, -107, 42, -81, -99, -11, 94, 54, -34, -97, 122, -76, -73, -99, 89, 123, -70, -35, 84, 48, -43, -71, -61, -34, 9, 104, 109, 31, 94, -107, -19, 59, 42, -103, 92, -107, 61, -100, 110, -17, -38, -101, -125, -15, -124, 18, -22, -59, -6, -10, 111, -42, 49, 53, 101, -102, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, -39};

    @GetMapping("/getAllUsers")
    public ResponseEntity<List<User>>getAllUsers(){
        return ResponseEntity.ok().body(userService.getUsers());
    }

    @PostMapping("/users/addRoleToUser")
    public ResponseEntity<User> addRoleToUser(@RequestBody RoleToUserForm form){
        return ResponseEntity.ok().body(userService.addRoleToUser(form.getUsername(), form.getRoleName()));
    }

    @PostMapping("/user/changeDetails")
    public ResponseEntity<HashMap<String, Object>> changeUserDetails(
            @RequestParam int userId, @RequestParam String newUserName, @RequestParam String newPassword, HttpServletRequest request, HttpServletResponse response){
        User user = userService.updateUser(userId, newUserName, newPassword);

        HashMap<String, Object> responseBody = createAccessTokenAndRefreshToken(user, request);
        responseBody.put("userModel", user);

        return ResponseEntity.status(HttpStatus.OK).body(responseBody);
    }

    @PostMapping("/user/register")
    public ResponseEntity<HashMap<String, Object>> registerUser(@RequestBody User user, HttpServletRequest request, HttpServletResponse response) throws IOException {
        String userImage = Arrays.toString(user.getImage());

        if (userImage.equals("[]")) {
            user.setImage(defaultImage);
        }
        
        userService.saveUser(user);

        HashMap<String, Object> responseBody = createAccessTokenAndRefreshToken(user, request);
        responseBody.put("userModel", user);

        return ResponseEntity.status(HttpStatus.OK).body(responseBody);
    }

    private HashMap<String, Object> createAccessTokenAndRefreshToken(User user, HttpServletRequest request) {

        HashMap<String, Object> tokens = new HashMap<>();

        String access_token = JWT.create()
                .withSubject(user.getUsername())
                .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 60 * 1000))
                .withIssuer(request.getRequestURL().toString())
                .withClaim("roles", user.getRoles().stream().map(Role::getName).collect(Collectors.toList()))
                .sign(Utility.algorithm);

        String refresh_token = JWT.create()
                .withSubject(user.getUsername())
                .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 60 * 1000))
                .withIssuer(request.getRequestURL().toString())
                .withClaim("roles", user.getRoles().stream().map(Role::getName).collect(Collectors.toList()))
                .sign(Utility.algorithm);

        tokens.put("access_token", access_token);
        tokens.put("refresh_token", refresh_token);

        return tokens;
    }
}

@Getter
@Setter
class RoleToUserForm {
    private String username;
    private String roleName;
}
